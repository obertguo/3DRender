(()=>{"use strict";var t={235:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,a){this.drawpixel=(t,e,a)=>{this.ctx.fillStyle=`rgb(${a[0]},${a[1]},${a[2]})`,this.ctx.fillRect(t,e,1,1),this.ctx.fill()},a.canvas.height=t,a.canvas.width=e,this.ctx=a}render(t){for(let e=0;e<this.ctx.canvas.height;++e)for(let a=0;a<this.ctx.canvas.width;++a)this.drawpixel(a,e,t[e][a])}}},861:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const a=(t,e)=>{let a=0;for(let r=0;r<t.length;++r)a+=t[r]*e[r];return a},r=(t,e)=>t.map((t=>a(t,e))),n=t=>t[0][0]*t[1][1]-t[0][1]*t[1][0],s=(t,e)=>{let a=new Array(t);for(let r=0;r<t;++r)a[r]=e;return a};e.default={vecdot:a,veccross:(t,e)=>[t[1]*e[2]-e[1]*t[2],t[2]*e[0]-e[2]*t[0],t[0]*e[1]-e[0]*t[1]],matvec:r,matmul:(t,e)=>e.map((e=>r(t,e))),matdet:n,matinv:t=>{const e=n(t);return 0!==e&&[[t[1][1]/e,-t[0][1]/e],[-t[1][0]/e,t[0][0]/e]]},vecadd:(t,e)=>{let a=[];for(let r=0;r<t.length;++r)a.push(t[r]+e[r]);return a},vecsubtract:(t,e)=>{let a=[];for(let r=0;r<t.length;++r)a.push(t[r]-e[r]);return a},makevec:s,makemat:(t,e,a)=>{let r=new Array(t);for(let n=0;n<t;++n)r[n]=s(e,a);return r},degtorad:t=>t*(Math.PI/180)}},146:function(t,e,a){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(a(693)),s=r(a(364));e.default=class{constructor(t,e,a){this.vertices=t,this.faces=e,this.facecolors=a,this.xy_rotateDeg=0,this.xz_rotateDeg=0,this.yz_rotateDeg=0,this.scalefactor=1}rotateXY(t){this.vertices=n.default.rotateXY(t-this.xy_rotateDeg,this.vertices),this.xy_rotateDeg=t}rotateXZ(t){this.vertices=n.default.rotateXZ(t-this.xz_rotateDeg,this.vertices),this.xz_rotateDeg=t}rotateYZ(t){this.vertices=n.default.rotateYZ(t-this.yz_rotateDeg,this.vertices),this.yz_rotateDeg=t}translateX(t){this.vertices=n.default.translateX(t,this.vertices)}translateY(t){this.vertices=n.default.translateY(t,this.vertices)}translateZ(t){this.vertices=n.default.translateZ(t,this.vertices)}scale(t){this.vertices=n.default.scale(t/this.scalefactor,this.vertices),this.scalefactor=t}make_pixelbuffer(t,e){console.log(this.faces);const a=n.default.translateY(t/2,n.default.translateX(e/2,this.vertices));return s.default.make_pixelbuffer(t,e,this.faces,a,this.facecolors)}}},364:function(t,e,a){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(a(861)),s=(t,e,a,r)=>{const s=r[a[0]],l=r[a[1]],o=r[a[2]],i=n.default.vecsubtract(l,s),u=n.default.vecsubtract(o,s),c=n.default.veccross(i,u);return(n.default.vecdot(c,s)-c[0]*t-c[1]*e)/c[2]},l=(t,e,a,r)=>{let s=r[a[0]],l=r[a[1]],o=r[a[2]],i=[t,e,0];l=n.default.vecsubtract(l,s),o=n.default.vecsubtract(o,s),i=n.default.vecsubtract(i,s);const u=[[l[0],o[0]],[l[1],o[1]]],c=n.default.matinv(u);if(!1===c)return!1;const d=n.default.matvec(c,[i[0],i[1]]),f=d[0],h=d[1];return 0<=f&&f<=1&&0<=h&&h<=1&&0<=h+h&&f+h<=1};e.default={make_pixelbuffer:(t,e,a,r,o)=>{let i=n.default.makemat(t,e,[255,255,255]),u=n.default.makemat(t,e,Number.MIN_SAFE_INTEGER);return a.forEach(((a,n)=>{const c=((t,e)=>{const a=e[t[0]],r=e[t[1]],n=e[t[2]];return[Math.min(a[0],r[0],n[0]),Math.max(a[0],r[0],n[0]),Math.min(a[1],r[1],n[1]),Math.max(a[1],r[1],n[1])].map((t=>Math.round(t)))})(a,r);for(let d=Math.max(0,c[2]);d<=Math.min(t-1,c[3]);++d)for(let t=Math.max(0,c[0]);t<=Math.min(e-1,c[1]);++t)if(l(t,d,a,r)){const e=s(t,d,a,r);e>=u[d][t]&&(u[d][t]=e,i[d][t]=o[n])}})),i}}},550:function(t,e,a){var r=this&&this.__awaiter||function(t,e,a,r){return new(a||(a=Promise))((function(n,s){function l(t){try{i(r.next(t))}catch(t){s(t)}}function o(t){try{i(r.throw(t))}catch(t){s(t)}}function i(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(l,o)}i((r=r.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=n(a(235)),l=n(a(146)),o=document.getElementById("objUpload"),i=document.getElementById("canvas").getContext("2d"),u=document.getElementById("scale-slider"),c=document.getElementById("scale-out"),d=document.getElementById("xy-slider"),f=document.getElementById("xy-out"),h=document.getElementById("xz-slider"),m=document.getElementById("xz-out"),v=document.getElementById("yz-slider"),p=document.getElementById("yz-out"),_=500,M=1e3;let g,x=new s.default(_,M,i);o.addEventListener("change",(()=>r(void 0,void 0,void 0,(function*(){if(!o.files)return;const t=o.files[0],e=yield t.text(),a=e.split("\n").filter((t=>t.startsWith("v "))).map((t=>t.split(/\s+/).slice(1).map((t=>parseFloat(t))))),r=e.split("\n").filter((t=>t.startsWith("f "))).map((t=>t.split(/\s+/).slice(1).map((t=>parseInt(t)-1)))),n=[256*Math.random(),256*Math.random(),256*Math.random()],s=r.map((()=>{const t=Math.random();return n.map((e=>e*t))}));g=new l.default(a,r,s);const i=parseInt(d.value),y=parseInt(h.value),b=parseInt(v.value),I=parseFloat(u.value);g.rotateXY(i),g.rotateXZ(y),g.rotateYZ(b),d.value=i.toString(),h.value=y.toString(),v.value=b.toString(),f.innerHTML=`XY Rotation: ${i} degrees.`,m.innerHTML=`XZ Rotation: ${y} degrees.`,p.innerHTML=`YZ Rotation: ${b} degrees.`,c.innerHTML=`Scale: ${I}`,x.render(g.make_pixelbuffer(_,M))})))),u.oninput=()=>{const t=parseFloat(u.value);c.innerHTML=`Scale: ${t}`,g.scale(t),x.render(g.make_pixelbuffer(_,M))},d.oninput=()=>{const t=parseInt(d.value);parseFloat(u.value),g.rotateXY(t),f.innerHTML=`XY Rotation: ${t} degrees.`,x.render(g.make_pixelbuffer(_,M))},h.oninput=()=>{const t=parseInt(h.value);parseFloat(u.value),g.rotateXZ(t),m.innerHTML=`XZ Rotation: ${t} degrees.`,x.render(g.make_pixelbuffer(_,M))},v.oninput=()=>{const t=parseInt(v.value);parseFloat(u.value),g.rotateYZ(t),p.innerHTML=`YZ Rotation: ${t} degrees.`,x.render(g.make_pixelbuffer(_,M))}},693:function(t,e,a){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(a(861));e.default={rotateXY:(t,e)=>{const a=n.default.degtorad(t),r=[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]];return n.default.matmul(r,e)},rotateXZ:(t,e)=>{const a=n.default.degtorad(t),r=[[Math.cos(a),0,-Math.sin(a)],[0,1,0],[Math.sin(a),0,Math.cos(a)]];return n.default.matmul(r,e)},rotateYZ:(t,e)=>{const a=n.default.degtorad(t),r=[[1,0,0],[0,Math.cos(a),-Math.sin(a)],[0,Math.sin(a),Math.cos(a)]];return n.default.matmul(r,e)},translateX:(t,e)=>e.map((e=>n.default.vecadd(e,[t,0,0]))),translateY:(t,e)=>e.map((e=>n.default.vecadd(e,[0,t,0]))),translateZ:(t,e)=>e.map((e=>n.default.vecadd(e,[0,0,t]))),scale:(t,e)=>{const a=[[t,0,0],[0,t,0],[0,0,t]];return n.default.matmul(a,e)}}}},e={};!function a(r){var n=e[r];if(void 0!==n)return n.exports;var s=e[r]={exports:{}};return t[r].call(s.exports,s,s.exports,a),s.exports}(550)})();